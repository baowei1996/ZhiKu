<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <script src="js/jquery-1.12.3.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/API.js"></script>
    <script src="js/ajaxHandler.js"></script>
</head>
<body>
<div class="container">
    <div class="form-group">
        <label for="url">相关链接</label>
        <input  class="form-control" id="url" placeholder="http://">
    </div>
    <div class="form-group">
        <label for="title">题目</label>
        <input  class="form-control" id="title">
    </div>
    <div class="form-group">
        <label for="date">开始日期</label>
        <input  class="form-control" id="date" placeholder="Eg:2017.01.01">
    </div>
    <div class="form-group">
        <label for="date">持续时间</label>
        <input  class="form-control">
    </div>
    <div class="form-group">
        <label for="date">项目发起单位</label>
        <input  class="form-control">
    </div>
    <div class="form-group">
        <label for="date">期望人数</label>
        <input  class="form-control">
    </div>
    <label for="details">详细描述</label>
    <textarea class="form-control"  style="margin-bottom: 20px" id="details"  rows="3"></textarea>

       <button type="button" id="submit" class="col-lg-1 btn btn-primary" onclick="alert('提交成功，请等待审核结果。');location.href='./index.html'">提交</button>


</div>

<script>
    document.getElementById('submit').onclick=function () {
        let url=document.getElementById('url').value;
        let date=document.getElementById('date').value;
        let title=document.getElementById('title').value;
        let details=document.getElementById('details').value;

        AjaxHandler().pushNews(url,date,title,details,function (data) {
            if(data.status==200){
                alert('添加成功')
            }
        },function (err) {
            console.log(err)
        })
    }

</script>
</body>
</html>